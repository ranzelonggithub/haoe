!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n=window.webpackJsonp;window.webpackJsonp=function(r,a,i){for(var s,c,l,u=0,f=[];u<r.length;u++)c=r[u],o[c]&&f.push(o[c][0]),o[c]=0;for(s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s]);for(n&&n(r,a,i);f.length;)f.shift()();if(i)for(u=0;u<i.length;u++)l=t(t.s=i[u]);return l};var r={},o={98:0};t.e=function(e){function n(){s.onerror=s.onload=null,clearTimeout(c);var t=o[e];0!==t&&(t&&t[1](new Error("Loading chunk "+e+" failed.")),o[e]=void 0)}var r=o[e];if(0===r)return new Promise(function(e){e()});if(r)return r[2];var a=new Promise(function(t,n){r=o[e]=[t,n]});r[2]=a;var i=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.charset="utf-8",s.async=!0,s.timeout=12e4,t.nc&&s.setAttribute("nonce",t.nc),s.src=t.p+"async_chunk/"+e+"."+{0:"4242e40",1:"b2359c4",2:"3ad7604",3:"7f03554",4:"7aebd2c",5:"0d86be2",6:"bb64ee0",7:"9b34b58",8:"3308517",9:"fcf81ca",10:"2966a7c",11:"04d7ac9",12:"652b359",13:"d325f48",14:"b00f65d",15:"62d8423",16:"6b52c58",17:"70f5383",18:"f54b57e",19:"b50df73",20:"a33b14a",21:"971e8e9",22:"a19a219",23:"bf78f3f",24:"4d64cbb",25:"25f471c",26:"1cbc6c1",27:"4e558e7",28:"e71b043",29:"2a01a00",30:"78b6c91",31:"d395a39",32:"95f73e1",33:"a6abc43",34:"40e2cbc",35:"a59d4eb",36:"dca1203",37:"41661ad",38:"9a3015d",39:"004ba24",40:"136db02",41:"e0b4db2",42:"3c4bdd0",43:"842ebe4",44:"347d525",45:"0226865",46:"e031924",47:"4115e52",48:"6229d50",49:"cfc1d95",50:"275efd2",51:"1d7c4ab",52:"aefe961",53:"04e146d",54:"933f1f5",55:"4c9e823",56:"02f0812",57:"ec898e6",58:"205f875",59:"92d095e",60:"5fa4fb9",61:"46a81d1",62:"68a2aed",63:"b8c6d90",64:"415352b",65:"8b880b7",66:"8b15399",67:"afa4811",68:"0adc03e",69:"b67d1a7",70:"2f55514",71:"9fd784d",72:"751b229",73:"73fdcfb",74:"de806fd",75:"0c19c50",76:"75e6482",77:"73a9e8e",78:"d881479",79:"8fcdade",80:"73ac3c7",81:"5580616",82:"1d0affb",83:"3250c20",84:"b79f505",85:"e4e86ae",86:"1b4b0a4",87:"08f097d",88:"8a9f2fa",89:"d1cc348",90:"df9b2bb",91:"c61995f",92:"7051d44",93:"38c09d3",94:"7cc659d",95:"6c64754",96:"5669a4a",97:"6a2cc55"}[e]+".es5.min.js";var c=setTimeout(n,12e4);return s.onerror=s.onload=n,i.appendChild(s),a},t.m=e,t.c=r,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="//shadow.elemecdn.com/faas/h5/",t.oe=function(e){throw console.error(e),e},t(t.s=1241)}({1241:function(e,t,n){e.exports=n(1242)},1242:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1243),o=(n.n(r),n(1244)),a=(n.n(o),n(1245)),i=(n.n(a),n(1246)),s=(n.n(i),n(1247)),c=(n.n(s),n(563)),l=n.n(c),u=n(1248),f=n.n(u),p=n(195),d=n.n(p),h=(n(1251),n(1252)),g=n(392),m=n(4),b=n(393);n.d(t,"geohash",function(){return l.a}),window.Geohash=l.a,window.UParams=f.a,window.Utils=d.a;const{store:v,platform:y}=m;y.isEleme&&window.hybridAPI&&d.a.getGeohash().then(e=>v.setLocation(e)).catch(()=>{});const _=UParams();_.from&&(y.isAlipay?g.a.init():localStorage.setItem("SUB_CHANNEL",_.from)),(y.isXiaomi||"miapp"===_.source)&&Object(h.a)(),y.isAlipay&&(Object(b.a)(),document.addEventListener("DOMContentLoaded",()=>{g.a.checkNewUser(),window.FastClick&&window.FastClick.attach(document.body)}));(()=>{if(!/iPhone/i.test(window.navigator.userAgent))return!1;const e=window.screen||{};return 812===e.height&&375===e.width})()&&document.body.classList.add("iPhoneXMode")},1243:function(module,exports,__webpack_require__){(function(global){var babelHelpers={};Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},n=Math.pow(2,53)-1,r=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),n)};return function(e){var n=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var o,a=arguments.length>1?arguments[1]:void 0;if(void 0!==a){if(!t(a))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2])}for(var i,s=r(n.length),c=t(this)?Object(new this(s)):new Array(s),l=0;l<s;)i=n[l],c[l]=a?void 0===o?a(i,l):a.call(o,i,l):i,l+=1;return c.length=s,c}}()),babelHelpers.typeof="function"===eval("typeof Symbol")&&"symbol"===eval("typeof Symbol.iterator")?function(obj){return eval("typeof obj")}:function(obj){return obj&&"function"===eval("typeof Symbol")&&obj.constructor===Symbol?"symbol":eval("typeof obj")},babelHelpers.jsx=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,o){var a=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&a)for(var s in a)void 0===n[s]&&(n[s]=a[s]);else n||(n=a||{});if(1===i)n.children=o;else if(i>1){for(var c=Array(i),l=0;l<i;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),babelHelpers.asyncToGenerator=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,a){try{var i=t[o](a),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then(function(e){return r("next",e)},function(e){return r("throw",e)});e(s)}return r("next")})}},babelHelpers.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},babelHelpers.createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),babelHelpers.defineEnumerableProperties=function(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}return e},babelHelpers.defaults=function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e},babelHelpers.defineProperty=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},babelHelpers.extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},babelHelpers.get=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in o)return o.value;var i=o.get;if(void 0!==i)return i.call(r)},babelHelpers.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},babelHelpers.instanceof=function(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t},babelHelpers.interopRequireDefault=function(e){return e&&e.__esModule?e:{default:e}},babelHelpers.interopRequireWildcard=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},babelHelpers.newArrowCheck=function(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")},babelHelpers.objectDestructuringEmpty=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},babelHelpers.objectWithoutProperties=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},babelHelpers.possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},babelHelpers.selfGlobal=void 0===global?self:global,babelHelpers.set=function e(t,n,r,o){var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var i=Object.getPrototypeOf(t);null!==i&&e(i,n,r,o)}else if("value"in a&&a.writable)a.value=r;else{var s=a.set;void 0!==s&&s.call(o,r)}return r},babelHelpers.slicedToArray=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),babelHelpers.slicedToArrayLoose=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){for(var n,r=[],o=e[Symbol.iterator]();!(n=o.next()).done&&(r.push(n.value),!t||r.length!==t););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},babelHelpers.taggedTemplateLiteral=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},babelHelpers.taggedTemplateLiteralLoose=function(e,t){return e.raw=t,e},babelHelpers.temporalRef=function(e,t,n){if(e===n)throw new ReferenceError(t+" is not defined - temporal dead zone");return e},babelHelpers.temporalUndefined={},babelHelpers.toArray=function(e){return Array.isArray(e)?e:Array.from(e)},babelHelpers.toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},Object.assign||(Object.assign=babelHelpers.extends),"undefined"==typeof window?global.babelHelpers=babelHelpers:window.babelHelpers=babelHelpers}).call(exports,__webpack_require__(50))},1244:function(e,t){const n=JSON.parse;JSON.parse=function(e){return""===e?null:n.apply(JSON,arguments)}},1245:function(e,t){try{"object"!=typeof localStorage&&(localStorage={})}catch(e){setTimeout(function(){throw e})}!function(){for(var e="";e.length<32;)e+=Math.floor(Math.pow(36,10)*Math.random()).toString(36);try{localStorage.setItem(e,e),e===localStorage.getItem(e)&&localStorage.removeItem(e)}catch(r){if(!localStorage)return;var t={},n=e;localStorage.setItem=function(e,r){t[n+e]=r+""},localStorage.getItem=function(e){return n+e in t?t[n+e]:null},localStorage.removeItem=function(e){delete t[n+e]},localStorage.clear=function(){t={}}}}(),function(){for(var e="";e.length<32;)e+=Math.floor(Math.pow(36,10)*Math.random()).toString(36);try{sessionStorage.setItem(e,e),e===sessionStorage.getItem(e)&&sessionStorage.removeItem(e)}catch(r){if(!sessionStorage)return;var t={},n=e;sessionStorage.setItem=function(e,r){t[n+e]=r+""},sessionStorage.getItem=function(e){return n+e in t?t[n+e]:null},sessionStorage.removeItem=function(e){delete t[n+e]},sessionStorage.clear=function(){t={}}}}(),function(){var e=Date.parse;Date.parse=function(t){var n=String(t).match(/^(\d+)-(\d+)-(\d+)T(\d+):(\d+)(?::(\d+)(?:\.(\d\d\d))?)?(z|[+-]\d\d:?\d\d)$/i);if(n){var r=n[8].match(/\d\d/g)||[];return r[0]=0|r[0],r[1]=0|r[1],"-"===n[8].charAt(0)&&(r[0]=-r[0],r[1]=-r[1]),Date.UTC(n[1],n[2]-1,n[3],n[4]-r[0],n[5]-r[1],0|n[6],0|n[7])}return e.apply(this,arguments)}}()},1246:function(e,t,n){"use strict";Array.prototype.find=Array.prototype.find||function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("callback must be a function");for(var t=Object(this),n=t.length>>>0,r=arguments[1],o=0;o<n;o++){var a=t[o];if(e.call(r,a,o,t))return a}}},1247:function(e,t){Promise.prototype.always=function(e){return this.then(e,e)}},1248:function(e,t,n){!function(t){"object"==typeof e&&e.exports?t(function(t,n,r){void 0===r&&(r=n,n=[]);var o;o=[],e.exports=r.apply(e.exports,o)||e.exports}):"function"===String("function")&&n(1249)?t(n(1250)):t(function(e,t,n){void 0===n&&(n=t,t=[]);try{"object"==typeof execScript&&execScript("var "+e)}catch(e){}window[e]={};for(var r=[],o=0;o<t.length;o++)r[o]=window[t[o]];window[e]=n.apply(window[e],r)||window[e]})}(function(e){"use strict";e("UParams",function(){var e=RegExp.prototype.test.bind(/^(?:toString|valueOf)$/),t=function(n){if(!(this instanceof t))return new t(n);n||(n=location.search+location.hash);var r=this;switch(typeof n){case"object":for(var o in n)e(o)||(r[o]=n[o]+"");break;case"string":n.replace(/([^=?#&]*)=([^?#&]*)/g,function(t,n,o){e(n)||(r[decodeURIComponent(n)]=decodeURIComponent(o))})}};return Object.defineProperty(t.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}}),t})})},1249:function(e,t){(function(t){e.exports=t}).call(t,{})},1250:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},1251:function(e,t,n){"use strict";var r=n(354);let o=/sw_debug/.test(location.href),a=/Eleme/i.test(navigator.userAgent),i=/AlipayClient/.test(navigator.userAgent),s={id:"sw-downgrade-alipay",name:"Hy5S3PGfM"},c={id:"sw-unregister-failed",name:"BkPFnwGzG"},l=+(navigator.userAgent.match(/UCBrowser\/(\d+)\./i)||[])[1]||0,u=+(navigator.userAgent.match(/Chrome\/(\d+)\./i)||[])[1]||0,f=!!((navigator.userAgent.match(/Chrome\/([\d|\.]+)/i)||[])[1]||"").match(/^44\.0\.2403/),p=+(navigator.userAgent.match(/TBS\/(\d+)/i)||[])[1]||0;const d=()=>{const e=navigator.serviceWorker;e&&(e.getRegistrations?e.getRegistrations().then(e=>{e.forEach(e=>{e.unregister()})}):e.getRegistration?e.getRegistration().then(e=>{e&&e.unregister()}):window.perf&&window.perf.sendEvent(c))},h=()=>{const e=e=>UBT.send("EVENT",{id:3930,params:{type:e}});window.addEventListener("beforeinstallprompt",t=>{e(0),t.userChoice.then(t=>{e("accepted"===t.outcome?1:2)})});let t=`/sw.js?debug=${o}&UC=${!!l}&APP=${!!a}`;i&&(t+="&alipay=true"),navigator.serviceWorker.register(t)};(()=>{if("serviceWorker"in navigator)o?h():o||!f&&(l>=11||window.chrome&&u>=49||p>=43124&&u>=53)?fetch("//crayfish.elemecdn.com/h5.ele.me@json/service-worker").then(e=>e.json()).then(e=>(i&&!e.downgrade_alipay&&window.perf&&window.perf.sendEvent(s),(e.downgrade||i&&e.downgrade_alipay)&&!o?d():a?void Object(r.a)("service-worker","grayscale").then(h).catch(d):h())).catch(()=>{i&&d()}):d()})()},1252:function(e,t,n){"use strict";function r(){window.addEventListener("DOMContentLoaded",()=>{const e=location.pathname,t=a[e];t&&Object(o.a)(t)})}n.d(t,"a",function(){return r});var o=n(1253);const a={"/":"Index","/msite/":"Index","/msite/food/":"Index","/shop/":"Shop","/order/":"Orders","/order/detail/":"Orders","/profile/":"Profile","/login/":"Auth"}},1253:function(e,t,n){"use strict";const r="me.ele.miui",o="http://thefatherofsalmon.com",a="MIX_INVOKED";t.a=function(e,t={}){if(sessionStorage.getItem(a))return;let n=`${o}?i=${r}&p=${e}`,i=Object.assign(new UParams,t),s=Object.keys(i).map(e=>`${e}=${encodeURIComponent(i[e])}`).join("&");s&&(n+=`&a=${encodeURIComponent(s)}`);let c=new Image;c.src=n,c=null,sessionStorage.setItem(a,!0)}},1254:function(e,t,n){"use strict";var r=n(4);const o=r.store.get("location")||{},a={headers:{"content-type":"application/json; charset=utf-8"},credentials:"include",method:"POST"},i=/^h5-vip\./.test(document.domain)?"//ppe-openapi.ele.me/v2":"//openapi.ele.me/v2",s={m:1,f:2};t.a={userId:()=>Object(r.$fetch)("/eus/v1/current_user?info_raw={}",{credentials:"include"}),login(e,t,n={}){return Object(r.$fetch)("/eus/login/alipay_login",babelHelpers.extends({},a,{body:JSON.stringify(babelHelpers.extends({alipay_code:e,auth_type:t},n,o))})).then(t=>(this.getAlipayUserInfo(e),this.userId().then(e=>(r.store.setUserId(e),t)).catch(()=>t)))},getAlipayCode:(e,t)=>Object(r.$fetch)(`${i}/koubei/oauthcode/`,{method:"POST",headers:{"content-type":"application/json; charset=utf-8"},body:JSON.stringify({scope:t,auth_code:e})}).then(e=>e.data?e.data:Promise.reject(e)),loginPassword:(e,t,n)=>Object(r.$fetch)("/eus/login/alipay_login/by_password",babelHelpers.extends({},a,{body:JSON.stringify(babelHelpers.extends({alipay_code:e,auth_type:t},n,o))})),loginMobile:(e,t,n)=>Object(r.$fetch)("/eus/login/alipay_login/by_mobile",babelHelpers.extends({},a,{body:JSON.stringify(babelHelpers.extends({alipay_code:e,auth_type:t},n,o))})),getCaptcha:e=>Object(r.$fetch)("/eus/v3/captchas",babelHelpers.extends({},a,{body:JSON.stringify({captcha_str:e})})),getMobileCode:e=>Object(r.$fetch)("/eus/login/mobile_send_code",babelHelpers.extends({},a,{body:JSON.stringify(babelHelpers.extends({},e,o))})),getAlipayUserInfo(e){Object(r.$fetch)(`${i}/koubei/user_info/`,babelHelpers.extends({},a,{body:JSON.stringify({alipay_code:e})})).then(e=>{let{mobile:t,user_name:n,gender:o}=e.data,a=0;o&&(a=s[o.toLowerCase()]),r.store.set("ali_user_info",{phone:t,name:n,sex:a})}).catch(()=>{})},checkNewUser:e=>Object(r.$fetch)(`${i}/koubei/alipay-user-check/`,babelHelpers.extends({},a,{credentials:"omit",body:JSON.stringify({alipay_code:e})})).then(e=>e.data?e.data:Promise.reject(e))}},1255:function(e,t,n){"use strict";var r=n(564),o=n(22);const a=e=>"number"==typeof e&&e>0;t.a={userId:()=>new Promise((e,t)=>{const n=o.a.userId;return a(n)&&e(n),Object(r.a)("/eus/v1/current_user?info_raw={}").then(r=>{o.a.setUserId(r),a(n)&&r!==n&&location.reload(),a(r)?e(r):(t({name:"HTTP_UNAUTHORIZED",message:"未登录"}),o.a.setUser())}).catch(e=>t(e))}),userBasic(){return this.userId().then(e=>Object(r.a)(`/eus/v2/users/${e}`))},reverseGeoCoding:({latitude:e,longitude:t})=>Object(r.a)(`/bgs/poi/reverse_geo_coding?latitude=${e}&longitude=${t}`),geoHierarchy:({latitude:e,longitude:t})=>Object(r.a)(`/bgs/geo/hierarchy?latitude=${e}&longitude=${t}`)}},1256:function(e,t,n){"use strict";const r=["supervip"];t.a=function(e,t){return new Promise((n,o)=>{let a;window.AlipayJSBridge&&-1!==r.indexOf(t)&&(a=(e=>new Promise((t,n)=>{let r=JSON.parse(e).payData.ALI_PAY;ap.tradePay({orderStr:r},e=>{"9000"===e.resultCode?t():n({message:"支付失败"})})}))(e)),window.hybridAPI&&(a=(e=>new Promise((t,n)=>{hybridAPI.pay({merchantId:(e.match(/merchantId=(\d+)/)||[])[1],merchantOrderNo:(e.match(/merchantOrderNo=(\d+)/)||[])[1],xShard:decodeURIComponent((e.match(/xShard=(.+)&?/)||[])[1])}).then(t).catch(t=>{if("NOT_SUPPORT"===t.name)return location.href=e;n(t)})}))(e)),a?a.then(n).catch(o):location.href=e})}},1257:function(e,t,n){"use strict";t.a=((e,t)=>{let n={success:e};e||(n.error={message:"object"==typeof t?JSON.stringify(t):t}),window.perf&&window.perf.sendRawEvent("page_success",n)})},1258:function(e,t,n){"use strict";var r=n(22);const o=e=>"Object"===Object.prototype.toString.call(e).slice(8,-1),a={get user(){return`user_${r.a.userId||"guest"}`},path:location.pathname.replace(/\//g,"")},i=()=>{try{const e=JSON.parse(localStorage.getItem(a.user));return o(e)?e:{}}catch(e){return{}}},s=e=>{const t=e[a.path];return o(t)?t:{}},c=e=>{localStorage.setItem(a.user,JSON.stringify(e))};t.a={getAllPaths:i,getAllItems:()=>s(i()),getItem:e=>s(i())[e],setItem(e,t){const n=i(),r=s(n);r[e]=t,n[a.path]=r,c(n)},removeItem(e){const t=i(),n=s(t);delete n[e],t[a.path]=n,c(t)},clear(){const e=i();e[a.path]={},c(e)}}},1259:function(e,t,n){"use strict";var r=n(1260),o=n.n(r),a=n(76),i=n.n(a),s=n(1266),c=n.n(s),l=n(4);const u="h5.ele.me"===location.host,f=/AliApp/i.test(navigator.userAgent)&&/UCBrowser/i.test(navigator.userAgent),p=[/WeixinJSBridge/i];t.a=function({id:e,token:t,project:n,ignoreErrors:r=[],includePaths:a=[]}){if(!u)return void console.warn(`只允许在生产域名：\`h5.ele.me\` 上启用，当前域名：${location.host}`);if(!e)throw new Error("id 不能为空");if(!n||"string"!=typeof n)throw new Error("project 不是合法的字符串");Array.prototype.push.apply(r,p);const s=o.a.config(`//${t}@opensite-restapi.ele.me/v1/sentry/${e}`,{ignoreErrors:r,includePaths:a,tags:{project:n}});Object(l.$fetch)("//crayfish.elemecdn.com/h5.ele.me@json/sentry"+(f?`?random=${Date.now()}`:""),{credentials:"omit"},{needRes:!0}).then(({result:e,res:t})=>{const r=["cache-control","content-type","expires","last-modified"],o=e[n];if(null==o){const e={headers:r.reduce((e,n)=>(e[n]=t.headers.get(n),e),{}),status:t.status},o={content:`crayfish 上未配置对应的项目：${n} 或项目配置被删除`,meta:{res:e}};return console.warn(o),Promise.reject({name:"CRAYFISH_CONFIG_NOTFOUND",message:o})}o&&s.addPlugin(c.a,i.a).install()}).catch(e=>{s.install(),s.captureException(new Error(JSON.stringify({name:e.name||"UNKNOWN_ERROR",message:e.message||JSON.stringify(e)})))})}},1260:function(e,t,n){(function(t){var r=n(1261),o="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},a=o.Raven,i=new r;i.noConflict=function(){return o.Raven=a,i},i.afterLoad(),e.exports=i}).call(t,n(50))},1261:function(e,t,n){(function(t){function r(){return+new Date}function o(e,t){return h(t)?function(n){return t(n,e)}:t}function a(){this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!d(N),this._hasNavigator=!d(H),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],collectWindowErrors:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=U.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=r(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=U.location,this._lastHref=this._location&&this._location.href,this._resetBackoff();for(var e in this._originalConsole)this._originalConsoleMethods[e]=this._originalConsole[e]}var i=n(1262),s=n(1263),c=n(1264),l=n(565),u=l.isError,f=l.isObject,p=l.isErrorEvent,d=l.isUndefined,h=l.isFunction,g=l.isString,m=l.isArray,b=l.isEmptyObject,v=l.each,y=l.objectMerge,_=l.truncate,w=l.objectFrozen,S=l.hasKey,O=l.joinRegExp,x=l.urlencode,E=l.uuid4,k=l.htmlTreeAsString,j=l.isSameException,P=l.isSameStacktrace,C=l.parseUrl,I=l.fill,A=n(1265).wrapMethod,T="source protocol user pass host port path".split(" "),R=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/,U="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},N=U.document,H=U.navigator;(a.prototype={VERSION:"3.20.1",debug:!1,TraceKit:i,config:function(e,t){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!e)return n;var r=n._globalOptions;t&&v(t,function(e,t){"tags"===e||"extra"===e||"user"===e?n._globalContext[e]=t:r[e]=t}),n.setDSN(e),r.ignoreErrors.push(/^Script error\.?$/),r.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),r.ignoreErrors=O(r.ignoreErrors),r.ignoreUrls=!!r.ignoreUrls.length&&O(r.ignoreUrls),r.whitelistUrls=!!r.whitelistUrls.length&&O(r.whitelistUrls),r.includePaths=O(r.includePaths),r.maxBreadcrumbs=Math.max(0,Math.min(r.maxBreadcrumbs||100,100));var o={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},a=r.autoBreadcrumbs;"[object Object]"==={}.toString.call(a)?a=y(o,a):!1!==a&&(a=o),r.autoBreadcrumbs=a;var s={tryCatch:!0},c=r.instrument;return"[object Object]"==={}.toString.call(c)?c=y(s,c):!1!==c&&(c=s),r.instrument=c,i.collectWindowErrors=!!r.collectWindowErrors,n},install:function(){var e=this;return e.isSetup()&&!e._isRavenInstalled&&(i.report.subscribe(function(){e._handleOnErrorStackInfo.apply(e,arguments)}),e._patchFunctionToString(),e._globalOptions.instrument&&e._globalOptions.instrument.tryCatch&&e._instrumentTryCatch(),e._globalOptions.autoBreadcrumbs&&e._instrumentBreadcrumbs(),e._drainPlugins(),e._isRavenInstalled=!0),Error.stackTraceLimit=e._globalOptions.stackTraceLimit,this},setDSN:function(e){var t=this._parseDSN(e),n=t.path.lastIndexOf("/"),r=t.path.substr(1,n);this._dsn=e,this._globalKey=t.user,this._globalSecret=t.pass&&t.pass.substr(1),this._globalProject=t.path.substr(n+1),this._globalServer=this._getGlobalServer(t),this._globalEndpoint=this._globalServer+"/"+r+"api/"+this._globalProject+"/store/",this._resetBackoff()},context:function(e,t,n){return h(e)&&(n=t||[],t=e,e=void 0),this.wrap(e,t).apply(this,n)},wrap:function(e,t,n){function r(){var r=[],a=arguments.length,i=!e||e&&!1!==e.deep;for(n&&h(n)&&n.apply(this,arguments);a--;)r[a]=i?o.wrap(e,arguments[a]):arguments[a];try{return t.apply(this,r)}catch(t){throw o._ignoreNextOnError(),o.captureException(t,e),t}}var o=this;if(d(t)&&!h(e))return e;if(h(e)&&(t=e,e=void 0),!h(t))return t;try{if(t.__raven__)return t;if(t.__raven_wrapper__)return t.__raven_wrapper__}catch(e){return t}for(var a in t)S(t,a)&&(r[a]=t[a]);return r.prototype=t.prototype,t.__raven_wrapper__=r,r.__raven__=!0,r.__orig__=t,r},uninstall:function(){return i.report.uninstall(),this._unpatchFunctionToString(),this._restoreBuiltIns(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},captureException:function(e,t){var n=!u(e),r=!p(e),o=p(e)&&!e.error;if(n&&r||o)return this.captureMessage(e,y({trimHeadFrames:1,stacktrace:!0},t));p(e)&&(e=e.error),this._lastCapturedException=e;try{var a=i.computeStackTrace(e);this._handleStackInfo(a,t)}catch(t){if(e!==t)throw t}return this},captureMessage:function(e,t){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)){var n,r=y({message:e+""},t=t||{});try{throw new Error(e)}catch(e){n=e}n.name=null;var o=i.computeStackTrace(n),a=m(o.stack)&&o.stack[1],s=a&&a.url||"";if((!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(s))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(s))){if(this._globalOptions.stacktrace||t&&t.stacktrace){t=y({fingerprint:e,trimHeadFrames:(t.trimHeadFrames||0)+1},t);var c=this._prepareFrames(o,t);r.stacktrace={frames:c.reverse()}}return this._send(r),this}}},captureBreadcrumb:function(e){var t=y({timestamp:r()/1e3},e);if(h(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(t);if(f(n)&&!b(n))t=n;else if(!1===n)return this}return this._breadcrumbs.push(t),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(e){var t=[].slice.call(arguments,1);return this._plugins.push([e,t]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(e){return this._globalContext.user=e,this},setExtraContext:function(e){return this._mergeContext("extra",e),this},setTagsContext:function(e){return this._mergeContext("tags",e),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(s(this._globalContext))},setEnvironment:function(e){return this._globalOptions.environment=e,this},setRelease:function(e){return this._globalOptions.release=e,this},setDataCallback:function(e){var t=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=o(t,e),this},setBreadcrumbCallback:function(e){var t=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=o(t,e),this},setShouldSendCallback:function(e){var t=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=o(t,e),this},setTransport:function(e){return this._globalOptions.transport=e,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var e=U.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if(N){var t=(e=e||{}).eventId||this.lastEventId();if(!t)throw new c("Missing eventId");var n=e.dsn||this._dsn;if(!n)throw new c("Missing DSN");var r=encodeURIComponent,o="";o+="?eventId="+r(t),o+="&dsn="+r(n);var a=e.user||this._globalContext.user;a&&(a.name&&(o+="&name="+r(a.name)),a.email&&(o+="&email="+r(a.email)));var i=this._getGlobalServer(this._parseDSN(n)),s=N.createElement("script");s.async=!0,s.src=i+"/api/embed/error-page/"+o,(N.head||N.body).appendChild(s)}},_ignoreNextOnError:function(){var e=this;this._ignoreOnError+=1,setTimeout(function(){e._ignoreOnError-=1})},_triggerEvent:function(e,t){var n,r;if(this._hasDocument){t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),N.createEvent?(n=N.createEvent("HTMLEvents")).initEvent(e,!0,!0):(n=N.createEventObject()).eventType=e;for(r in t)S(t,r)&&(n[r]=t[r]);if(N.createEvent)N.dispatchEvent(n);else try{N.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(e){}}},_breadcrumbEventHandler:function(e){var t=this;return function(n){if(t._keypressTimeout=null,t._lastCapturedEvent!==n){t._lastCapturedEvent=n;var r;try{r=k(n.target)}catch(e){r="<unknown>"}t.captureBreadcrumb({category:"ui."+e,message:r})}}},_keypressEventHandler:function(){var e=this;return function(t){var n;try{n=t.target}catch(e){return}var r=n&&n.tagName;if(r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)){var o=e._keypressTimeout;o||e._breadcrumbEventHandler("input")(t),clearTimeout(o),e._keypressTimeout=setTimeout(function(){e._keypressTimeout=null},1e3)}}},_captureUrlChange:function(e,t){var n=C(this._location.href),r=C(t),o=C(e);this._lastHref=t,n.protocol===r.protocol&&n.host===r.host&&(t=r.relative),n.protocol===o.protocol&&n.host===o.host&&(e=o.relative),this.captureBreadcrumb({category:"navigation",data:{to:t,from:e}})},_patchFunctionToString:function(){var e=this;e._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return"function"==typeof this&&this.__raven__?e._originalFunctionToString.apply(this.__orig__,arguments):e._originalFunctionToString.apply(this,arguments)}},_unpatchFunctionToString:function(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function(){function e(e){return function(t,r){for(var o=new Array(arguments.length),a=0;a<o.length;++a)o[a]=arguments[a];var i=o[0];return h(i)&&(o[0]=n.wrap(i)),e.apply?e.apply(this,o):e(o[0],o[1])}}function t(e){var t=U[e]&&U[e].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&(I(t,"addEventListener",function(t){return function(r,a,i,s){try{a&&a.handleEvent&&(a.handleEvent=n.wrap(a.handleEvent))}catch(e){}var c,l,u;return o&&o.dom&&("EventTarget"===e||"Node"===e)&&(l=n._breadcrumbEventHandler("click"),u=n._keypressEventHandler(),c=function(e){if(e){var t;try{t=e.type}catch(e){return}return"click"===t?l(e):"keypress"===t?u(e):void 0}}),t.call(this,r,n.wrap(a,void 0,c),i,s)}},r),I(t,"removeEventListener",function(e){return function(t,n,r,o){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(e){}return e.call(this,t,n,r,o)}},r))}var n=this,r=n._wrappedBuiltIns,o=this._globalOptions.autoBreadcrumbs;I(U,"setTimeout",e,r),I(U,"setInterval",e,r),U.requestAnimationFrame&&I(U,"requestAnimationFrame",function(e){return function(t){return e(n.wrap(t))}},r);for(var a=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],i=0;i<a.length;i++)t(a[i])},_instrumentBreadcrumbs:function(){function e(e,n){e in n&&h(n[e])&&I(n,e,function(e){return t.wrap(e)})}var t=this,n=this._globalOptions.autoBreadcrumbs,r=t._wrappedBuiltIns;if(n.xhr&&"XMLHttpRequest"in U){var o=XMLHttpRequest.prototype;I(o,"open",function(e){return function(n,r){return g(r)&&-1===r.indexOf(t._globalKey)&&(this.__raven_xhr={method:n,url:r,status_code:null}),e.apply(this,arguments)}},r),I(o,"send",function(n){return function(r){function o(){if(a.__raven_xhr&&4===a.readyState){try{a.__raven_xhr.status_code=a.status}catch(e){}t.captureBreadcrumb({type:"http",category:"xhr",data:a.__raven_xhr})}}for(var a=this,i=["onload","onerror","onprogress"],s=0;s<i.length;s++)e(i[s],a);return"onreadystatechange"in a&&h(a.onreadystatechange)?I(a,"onreadystatechange",function(e){return t.wrap(e,void 0,o)}):a.onreadystatechange=o,n.apply(this,arguments)}},r)}n.xhr&&"fetch"in U&&I(U,"fetch",function(e){return function(n,r){for(var o=new Array(arguments.length),a=0;a<o.length;++a)o[a]=arguments[a];var i,s=o[0],c="GET";"string"==typeof s?i=s:"Request"in U&&s instanceof U.Request?(i=s.url,s.method&&(c=s.method)):i=""+s,o[1]&&o[1].method&&(c=o[1].method);var l={method:c,url:i,status_code:null};return t.captureBreadcrumb({type:"http",category:"fetch",data:l}),e.apply(this,o).then(function(e){return l.status_code=e.status,e})}},r),n.dom&&this._hasDocument&&(N.addEventListener?(N.addEventListener("click",t._breadcrumbEventHandler("click"),!1),N.addEventListener("keypress",t._keypressEventHandler(),!1)):(N.attachEvent("onclick",t._breadcrumbEventHandler("click")),N.attachEvent("onkeypress",t._keypressEventHandler())));var a=U.chrome,i=!(a&&a.app&&a.app.runtime)&&U.history&&history.pushState&&history.replaceState;if(n.location&&i){var s=U.onpopstate;U.onpopstate=function(){var e=t._location.href;if(t._captureUrlChange(t._lastHref,e),s)return s.apply(this,arguments)};var c=function(e){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&t._captureUrlChange(t._lastHref,n+""),e.apply(this,arguments)}};I(history,"pushState",c,r),I(history,"replaceState",c,r)}if(n.console&&"console"in U&&console.log){var l=function(e,n){t.captureBreadcrumb({message:e,level:n.level,category:"console"})};v(["debug","info","warn","error","log"],function(e,t){A(console,t,l)})}},_restoreBuiltIns:function(){for(var e;this._wrappedBuiltIns.length;){var t=(e=this._wrappedBuiltIns.shift())[0],n=e[1],r=e[2];t[n]=r}},_drainPlugins:function(){var e=this;v(this._plugins,function(t,n){var r=n[0],o=n[1];r.apply(e,[e].concat(o))})},_parseDSN:function(e){var t=R.exec(e),n={},r=7;try{for(;r--;)n[T[r]]=t[r]||""}catch(t){throw new c("Invalid DSN: "+e)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new c("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},_handleOnErrorStackInfo:function(){this._ignoreOnError||this._handleStackInfo.apply(this,arguments)},_handleStackInfo:function(e,t){var n=this._prepareFrames(e,t);this._triggerEvent("handle",{stackInfo:e,options:t}),this._processException(e.name,e.message,e.url,e.lineno,n,t)},_prepareFrames:function(e,t){var n=this,r=[];if(e.stack&&e.stack.length&&(v(e.stack,function(t,o){var a=n._normalizeFrame(o,e.url);a&&r.push(a)}),t&&t.trimHeadFrames))for(var o=0;o<t.trimHeadFrames&&o<r.length;o++)r[o].in_app=!1;return r=r.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(e,t){var n={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"};return e.url||(n.filename=t),n.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n.function)||/raven\.(min\.)?js$/.test(n.filename)),n},_processException:function(e,t,n,r,o,a){var i=(e?e+": ":"")+(t||"");if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)&&!this._globalOptions.ignoreErrors.test(i)){var s;if(o&&o.length?(n=o[0].filename||n,o.reverse(),s={frames:o}):n&&(s={frames:[{filename:n,lineno:r,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n))){var c=y({exception:{values:[{type:e,value:t,stacktrace:s}]},culprit:n},a);this._send(c)}}},_trimPacket:function(e){var t=this._globalOptions.maxMessageLength;if(e.message&&(e.message=_(e.message,t)),e.exception){var n=e.exception.values[0];n.value=_(n.value,t)}var r=e.request;return r&&(r.url&&(r.url=_(r.url,this._globalOptions.maxUrlLength)),r.Referer&&(r.Referer=_(r.Referer,this._globalOptions.maxUrlLength))),e.breadcrumbs&&e.breadcrumbs.values&&this._trimBreadcrumbs(e.breadcrumbs),e},_trimBreadcrumbs:function(e){for(var t,n,r,o=["to","from","url"],a=0;a<e.values.length;++a)if((n=e.values[a]).hasOwnProperty("data")&&f(n.data)&&!w(n.data)){r=y({},n.data);for(var i=0;i<o.length;++i)t=o[i],r.hasOwnProperty(t)&&r[t]&&(r[t]=_(r[t],this._globalOptions.maxUrlLength));e.values[a].data=r}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var e={};return this._hasNavigator&&H.userAgent&&(e.headers={"User-Agent":navigator.userAgent}),this._hasDocument&&(N.location&&N.location.href&&(e.url=N.location.href),N.referrer&&(e.headers||(e.headers={}),e.headers.Referer=N.referrer)),e}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&r()-this._backoffStart<this._backoffDuration},_isRepeatData:function(e){var t=this._lastData;return!(!t||e.message!==t.message||e.culprit!==t.culprit)&&(e.stacktrace||t.stacktrace?P(e.stacktrace,t.stacktrace):!e.exception&&!t.exception||j(e.exception,t.exception))},_setBackoffState:function(e){if(!this._shouldBackoff()){var t=e.status;if(400===t||401===t||429===t){var n;try{n=e.getResponseHeader("Retry-After"),n=1e3*parseInt(n,10)}catch(e){}this._backoffDuration=n||(2*this._backoffDuration||1e3),this._backoffStart=r()}}},_send:function(e){var t=this._globalOptions,n={project:this._globalProject,logger:t.logger,platform:"javascript"},o=this._getHttpData();o&&(n.request=o),e.trimHeadFrames&&delete e.trimHeadFrames,(e=y(n,e)).tags=y(y({},this._globalContext.tags),e.tags),e.extra=y(y({},this._globalContext.extra),e.extra),e.extra["session:duration"]=r()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(e.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),b(e.tags)&&delete e.tags,this._globalContext.user&&(e.user=this._globalContext.user),t.environment&&(e.environment=t.environment),t.release&&(e.release=t.release),t.serverName&&(e.server_name=t.serverName),h(t.dataCallback)&&(e=t.dataCallback(e)||e),e&&!b(e)&&(h(t.shouldSendCallback)&&!t.shouldSendCallback(e)||(this._shouldBackoff()?this._logDebug("warn","Raven dropped error due to backoff: ",e):"number"==typeof t.sampleRate?Math.random()<t.sampleRate&&this._sendProcessedPayload(e):this._sendProcessedPayload(e)))},_getUuid:function(){return E()},_sendProcessedPayload:function(e,t){var n=this,r=this._globalOptions;if(this.isSetup())if(e=this._trimPacket(e),this._globalOptions.allowDuplicates||!this._isRepeatData(e)){this._lastEventId=e.event_id||(e.event_id=this._getUuid()),this._lastData=e,this._logDebug("debug","Raven about to send:",e);var o={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(o.sentry_secret=this._globalSecret);var a=e.exception&&e.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:a?(a.type?a.type+": ":"")+a.value:e.message,event_id:e.event_id,level:e.level||"error"});var i=this._globalEndpoint;(r.transport||this._makeRequest).call(this,{url:i,auth:o,data:e,options:r,onSuccess:function(){n._resetBackoff(),n._triggerEvent("success",{data:e,src:i}),t&&t()},onError:function(r){n._logDebug("error","Raven transport failed to send: ",r),r.request&&n._setBackoffState(r.request),n._triggerEvent("failure",{data:e,src:i}),r=r||new Error("Raven send failed (no additional details provided)"),t&&t(r)}})}else this._logDebug("warn","Raven dropped repeat event: ",e)},_makeRequest:function(e){var t=U.XMLHttpRequest&&new U.XMLHttpRequest;if(t){if("withCredentials"in t||"undefined"!=typeof XDomainRequest){var n=e.url;"withCredentials"in t?t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status)e.onSuccess&&e.onSuccess();else if(e.onError){var n=new Error("Sentry error code: "+t.status);n.request=t,e.onError(n)}}:(t=new XDomainRequest,n=n.replace(/^https?:/,""),e.onSuccess&&(t.onload=e.onSuccess),e.onError&&(t.onerror=function(){var n=new Error("Sentry error code: XDomainRequest");n.request=t,e.onError(n)})),t.open("POST",n+"?"+x(e.auth)),t.send(s(e.data))}}},_logDebug:function(e){this._originalConsoleMethods[e]&&this.debug&&Function.prototype.apply.call(this._originalConsoleMethods[e],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(e,t){d(t)?delete this._globalContext[e]:this._globalContext[e]=y(this._globalContext[e]||{},t)}}).setUser=a.prototype.setUserContext,a.prototype.setReleaseContext=a.prototype.setRelease,e.exports=a}).call(t,n(50))},1262:function(e,t,n){(function(t){function r(){return"undefined"==typeof document||null==document.location?"":document.location.href}var o=n(565),a={collectWindowErrors:!0,debug:!1},i="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},s=[].slice,c="?",l=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;a.report=function(){function e(e,t){var n=null;if(!t||a.collectWindowErrors){for(var r in d)if(d.hasOwnProperty(r))try{d[r].apply(null,[e].concat(s.call(arguments,2)))}catch(e){n=e}if(n)throw n}}function t(t,i,s,u,p){if(m)a.computeStackTrace.augmentStackTraceWithInitialElement(m,i,s,t),n();else if(p&&o.isError(p))e(a.computeStackTrace(p),!0);else{var d={url:i,line:s,column:u},h=void 0,g=t;if("[object String]"==={}.toString.call(t)){var b;(b=t.match(l))&&(h=b[1],g=b[2])}d.func=c,e({name:h,message:g,url:r(),stack:[d]},!0)}return!!f&&f.apply(this,arguments)}function n(){var t=m,n=h;h=null,m=null,g=null,e.apply(null,[t,!1].concat(n))}function u(e,t){var r=s.call(arguments,1);if(m){if(g===e)return;n()}var o=a.computeStackTrace(e);if(m=o,g=e,h=r,setTimeout(function(){g===e&&n()},o.incomplete?2e3:0),!1!==t)throw e}var f,p,d=[],h=null,g=null,m=null;return u.subscribe=function(e){p||(f=i.onerror,i.onerror=t,p=!0),d.push(e)},u.unsubscribe=function(e){for(var t=d.length-1;t>=0;--t)d[t]===e&&d.splice(t,1)},u.uninstall=function(){p&&(i.onerror=f,p=!1,f=void 0),d=[]},u}(),a.computeStackTrace=function(){function e(e){if(void 0!==e.stack&&e.stack){for(var t,n,o,a=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,i=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,s=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,l=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,u=/\((\S*)(?::(\d+))(?::(\d+))\)/,f=e.stack.split("\n"),p=[],d=(/^(.*) is undefined$/.exec(e.message),0),h=f.length;d<h;++d){if(n=a.exec(f[d])){var g=n[2]&&0===n[2].indexOf("native");(m=n[2]&&0===n[2].indexOf("eval"))&&(t=u.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),o={url:g?null:n[2],func:n[1]||c,args:g?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=s.exec(f[d]))o={url:n[2],func:n[1]||c,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=i.exec(f[d])))continue;var m=n[3]&&n[3].indexOf(" > eval")>-1;m&&(t=l.exec(n[3]))?(n[3]=t[1],n[4]=t[2],n[5]=null):0!==d||n[5]||void 0===e.columnNumber||(p[0].column=e.columnNumber+1),o={url:n[3],func:n[1]||c,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!o.func&&o.line&&(o.func=c),p.push(o)}return p.length?{name:e.name,message:e.message,url:r(),stack:p}:null}}function t(e,t,n,r){var o={url:t,line:n};if(o.url&&o.line){if(e.incomplete=!1,o.func||(o.func=c),e.stack.length>0&&e.stack[0].url===o.url){if(e.stack[0].line===o.line)return!1;if(!e.stack[0].line&&e.stack[0].func===o.func)return e.stack[0].line=o.line,!1}return e.stack.unshift(o),e.partial=!0,!0}return e.incomplete=!0,!1}function n(e,i){for(var s,l,u=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,f=[],p={},d=!1,h=n.caller;h&&!d;h=h.caller)if(h!==o&&h!==a.report){if(l={url:null,func:c,line:null,column:null},h.name?l.func=h.name:(s=u.exec(h.toString()))&&(l.func=s[1]),void 0===l.func)try{l.func=s.input.substring(0,s.input.indexOf("{"))}catch(e){}p[""+h]?d=!0:p[""+h]=!0,f.push(l)}i&&f.splice(0,i);var g={name:e.name,message:e.message,url:r(),stack:f};return t(g,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),g}function o(t,o){var i=null;o=null==o?0:+o;try{if(i=e(t))return i}catch(e){if(a.debug)throw e}try{if(i=n(t,o+1))return i}catch(e){if(a.debug)throw e}return{name:t.name,message:t.message,url:r()}}return o.augmentStackTraceWithInitialElement=t,o.computeStackTraceFromStackProp=e,o}(),e.exports=a}).call(t,n(50))},1263:function(e,t){function n(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function r(e,t){var r=[],o=[];return null==t&&(t=function(e,t){return r[0]===t?"[Circular ~]":"[Circular ~."+o.slice(0,n(r,t)).join(".")+"]"}),function(a,i){if(r.length>0){var s=n(r,this);~s?r.splice(s+1):r.push(this),~s?o.splice(s,1/0,a):o.push(a),~n(r,i)&&(i=t.call(this,a,i))}else r.push(i);return null==e?i instanceof Error?function(e){var t={stack:e.stack,message:e.message,name:e.name};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(i):i:e.call(this,a,i)}}(e.exports=function(e,t,n,o){return JSON.stringify(e,r(t,o),n)}).getSerialize=r},1264:function(e,t){function n(e){this.name="RavenConfigError",this.message=e}(n.prototype=new Error).constructor=n,e.exports=n},1265:function(e,t){e.exports={wrapMethod:function(e,t,n){var r=e[t],o=e;if(t in e){var a="warn"===t?"warning":t;e[t]=function(){var e=[].slice.call(arguments),i=""+e.join(" "),s={level:a,logger:"console",extra:{arguments:e}};"assert"===t?!1===e[0]&&(i="Assertion failed: "+(e.slice(1).join(" ")||"console.assert"),s.extra.arguments=e.slice(1),n&&n(i,s)):n&&n(i,s),r&&Function.prototype.apply.call(r,o,e)}}}}},1266:function(e,t){e.exports=function(e,t){if((t=t||window.Vue)&&t.config){var n=t.config.errorHandler;t.config.errorHandler=function(t,r,o){var a={};"[object Object]"===Object.prototype.toString.call(r)&&(a.componentName=function(e){if(e.$root===e)return"root instance";var t=e._isVue?e.$options.name||e.$options._componentTag:e.name;return(t?"component <"+t+">":"anonymous component")+(e._isVue&&e.$options.__file?" at "+e.$options.__file:"")}(r),a.propsData=r.$options.propsData),void 0!==o&&(a.lifecycleHook=o),e.captureException(t,{extra:a}),"function"==typeof n&&n.call(this,t,r,o)}}}},1267:function(e,t,n){"use strict";var r=n(4);const o=JSON.stringify({loginTip:!1,orderTip:!1}),a=(e,t)=>{const n=(e=>new Promise(t=>{setTimeout(t,e)}))(t).then(()=>{throw new Error("ABORT")});return Promise.race([e,n])};t.a={formatHiddenPhone:e=>`${e.slice(0,3)}******${e.slice(3)}`,getUrlPhone(){const e=UParams().mobile;let t="";return e&&5===e.length&&(t=this.formatHiddenPhone(e)),t},store:{get data(){let e={};try{e=JSON.parse(localStorage.getItem("ALIPAY_META")||o)}catch(e){}return e},get(e){return this.data[e]},set(e,t){const n=this.data;n[e]=t,localStorage.setItem("ALIPAY_META",JSON.stringify(n))}},getDeviceId(){const e=new Promise((e,t)=>{if(!r.platform.isAlipay||!window.ap)throw new Error("not in alipay");window.ap.call("getClientInfo",n=>n["device.id"]?e(n["device.id"]):t())});return a(e,1e3)}}},1268:function(e,t,n){"use strict";function r(e,t){const{appId:n,authHost:r,openapi:o}=a[s];let i=`${r}/oauth2/publicAppAuthorize.htm?app_id=${n}&scope=${e}&redirect_uri=${encodeURIComponent(o)}`;return t&&(i+=`&next_url=${encodeURIComponent(encodeURIComponent(t))}`),i}var o=n(36);const a={vip:{appId:"2017083108482117",authHost:"https://openauth.alipay.com",openapi:"https://ppe-openapi.ele.me/v2/koubei/notify"},prod:{appId:"2017080208005319",authHost:"https://openauth.alipay.com",openapi:"https://openapi.ele.me/v2/koubei/notify"}},i={1:"auth_base",2:"auth_user,auth_ele_data"},s=/^h5-vip\./.test(document.domain)?"vip":"prod";t.a={canJSAuth:window.ap&&ap.compareVersion("10.0.16")>=0,getCookieAlipayCode:()=>(document.cookie.match(/alipay_code=(\w+)/)||[])[1],invokeAuthSilent(e){location.replace(r(i[1],e))},invokeOAuth(e){location.replace(r(i[2],e))},getAuthCode:e=>new Promise((t,n)=>{AlipayJSBridge.call("getAuthCode",{scopeNicks:e.split(","),appId:a[s].appId},r=>{r.authcode?(e===i[2]&&UBT.send("EVENT",{id:101989}),t(r.authcode)):n(r)})}),getAlipayCode(e=1){if(!this.canJSAuth)return this[1===e?"invokeAuthSilent":"invokeOAuth"](location.href+"?"),Promise.reject();const t=i[e];return 2===e&&UBT.send("EVENT",{id:101990}),this.getAuthCode(t).then(e=>o.a.getAlipayCode(e,t)).then(e=>(o.c.store.set("code",e.alipay_code),e)).catch(t=>(window.perf&&window.perf.sendEvent({name:"h5/alipay-jsauth-failed",id:"rJW5z4aYW",data:{error:t.message||JSON.stringify(t)}}),t.error&&11!==t.error&&this[1===e?"invokeAuthSilent":"invokeOAuth"](location.href+"?"),Promise.reject(t)))}}},195:function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),a=r(n(3)),i=r(n(4)),s=r(n(2)),c=r(n(5)),l=r(n(6)),u=r(n(7));t.default={getGeohash:o.default,compareVersion:a.default,paramToString:i.default,resolveFetch:s.default,checkoutByApp:c.default,getUrl:l.default,expiredLocalStorage:u.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(2)),o=/iPhone|iPad|iPod|iOS/i.test(navigator.userAgent),a=/opensite/.test(document.domain)?location.origin.replace(/\:\/\/opensite([-|.][^.]+)/,"://opensite-restapi$1"):location.origin.replace(/(https?\:\/\/).*?((\.[a-z]*)?\.(ele|elenet){1}\.me)/,"$1restapi$2"),i=function(){return window.UParams?window.UParams().geohash||"":""},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=null,r=function(){clearInterval(n)};return new Promise(function(o,a){if(!window.hybridAPI)return a();var i=function(){window.hybridAPI.getGlobalGeohash().then(function(e){e&&(r(),o(e))})};n=setInterval(i,t),i(),setTimeout(function(){r(),a()},e)})},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;return navigator.geolocation?new Promise(function(t,n){navigator.geolocation.getCurrentPosition(function(e){e.coords.latitude||n({name:"BROWSER_MODE_PERMISSON_FAILED"}),t(window.Geohash.encode(e.coords.latitude,e.coords.longitude))},n,{timeout:e,maximumAge:1e4})}):Promise.reject()},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,t=a+"/shopping/v1/cities/guess",n=new Promise(function(t,n){return setTimeout(function(){n({name:"API_GUESS_TIMEOUT"})},e)});return Promise.race([function(e){return window.fetch(e,{credentials:"omit"}).then(r.default)}(t),n]).then(function(e){var t=e.latitude,n=e.longitude;return window.Geohash.encode(t,n)})},u=function(){if(!window.ap)return Promise.reject();return(ap.compareVersion("10.0.18")<0?ap.getLocation({timeout:10,cacheTimeout:1800}):ap.call("getCurrentLocation",{timeout:10,cacheTimeout:1800,requestType:0,bizType:o?"iOS-ele-position":"Android-ele-position"})).then(function(e){return window.Geohash.encode(e.latitude,e.longitude)})},f=function(e){return new Promise(function(t,n){c(e).then(t).catch(function(){return l()}).then(t).catch(n)})},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9e3,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=i();if(n)return Promise.resolve(n);return/Eleme/i.test(navigator.userAgent)?function(e,t){return s(2*e/3).catch(function(){return t?Promise.reject():f(1*e/3)})}(e,t):/AlipayClient/.test(navigator.userAgent)?u().catch(function(){return l()}):f(e)};p.getParamHash=i,p.useApp=s,p.useGeoAPI=c,p.useRestAPI=l,p.useAlipay=u,t.default=p},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){if(204===e.status)return Promise.resolve.bind(Promise);var t=e.json();return e.status>=200&&e.status<300?t:t.then(Promise.reject.bind(Promise))}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){if(!t&&!(t=(window.navigator.userAgent.match(/Eleme\/([\d|\.]+)/i)||[])[1]))return!1;e=e.split("."),t=t.split(".");var n=void 0;return e.forEach(function(e,r){var o=t[r];if(void 0===o&&(o=0),void 0===n){var a=Number(e)-Number(o);0!==a&&(n=a>0)}}),!!n}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return Object.prototype.toString.call(e).slice(8,-1)};t.default=function(e){if("Object"!==n(e))throw"param 必须是一个 object";var t=[];return Object.keys(e).forEach(function(r){var o=e[r];Array.isArray(o)?t=t.concat(o.map(function(e){return encodeURIComponent(r)+"[]="+encodeURIComponent(e)})):"Object"===n(o)?(o=JSON.stringify(o),t.push(encodeURIComponent(r)+"="+encodeURIComponent(o))):"Undefined"!==n(o)&&"Null"!==n(o)&&t.push(encodeURIComponent(r)+"="+encodeURIComponent(o))}),t.join("&")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(3));t.default=function(e){var t=e.id,n=e.entities,o=(e.callback,{clear_cart:!0});(0,r.default)("7.2")?o.add_foods=n.map(function(e){return{id:e.id,quantity:e.quantity,specs:e.specs.map(function(e){return e.value})}}):o.add_foods=n.map(function(e){var t=e.id,n=e.sku_id,r=e.quantity,o=e.specs,a=e.attrs;return{id:t,sku_id:n||"",quantity:r,specs:o,attrs:a}}),location.href="eleme://checkout?restaurant_id="+t+"&cart_operations="+JSON.stringify(o)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hash",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a="";if("{}"!==JSON.stringify(t)){a="hash"===r?"#":"?";for(var i in t){var s=t[i];a+="object"===(void 0===s?"undefined":n(s))&&s?encodeURIComponent(i)+"="+encodeURIComponent(JSON.stringify(s))+"&":encodeURIComponent(i)+"="+encodeURIComponent(s)+"&"}}return a=""+e+a.replace(/&$/,""),/Eleme/.test(navigator.userAgent)&&(a="eleme://web?url="+encodeURIComponent(a)+"&animation_type="+o),a}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={set:function(e){var t=e.key,n=e.value,r=e.expiredDate,o=e.expiredDay,a={value:n,expired:""};return r&&(a.expired=r),o&&(a.expired=Date.now()+60*o*60*1e3),localStorage.setItem(t,JSON.stringify(a)),{key:t,value:JSON.stringify(a)}},get:function(e){var t=void 0;try{t=JSON.parse(localStorage.getItem(e))}catch(e){throw e}if(!t)throw"The key: "+e+" you want are not found in localStorage";var n=Date.now()>new Date(t.expired).getTime();return{value:t.value,expired:n}}}}])})},22:function(e,t,n){"use strict";var r=n(563),o=n.n(r);let a=()=>{let e;try{e=JSON.parse(localStorage.getItem("STORE"))||{}}catch(t){e={}}return e},i={get(e){const t=a();return e?t[e]:t},set(e,t){let n=a();n[e]=t;try{localStorage.setItem("STORE",JSON.stringify(n))}catch(e){console.error(e)}return n},setLocation(e,t=""){const[n,r]=o.a.decode(e),a=parseInt(Date.now()/1e3);return this.set("location",{geohash:e,latitude:n,longitude:r,timestamp:a,locationName:t})},setUser(e){return this.set("user",e)},setUserId(e){return this.set("userId",e)},get location(){return this.get("location")},get user(){return this.get("user")},get userId(){return this.get("userId")}};t.a=Object.freeze(i)},354:function(e,t,n){"use strict";let r=0;"undefined"!=typeof localStorage&&((r=+localStorage.getItem("GRAYSCALE"))||(r=Math.random(),localStorage.setItem("GRAYSCALE",r)));t.b=(()=>r),t.a=((e,t)=>"undefined"==typeof localStorage?Promise.reject():fetch(`//shadow.elemecdn.com/crayfish/h5.ele.me/${e}?t=${Date.now()}`).then(e=>e.json()).then(e=>e&&r<e[t]?Promise.resolve():Promise.reject()))},36:function(e,t,n){"use strict";var r=n(1254),o=n(1267),a=n(1268);n(85);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return a.a}),n.d(t,"c",function(){return o.a})},392:function(e,t,n){"use strict";var r=n(36);const o={koubei:0,zhifubao:1,koubeishangjia:2,kb_shop:2,cardquan:3,cardwei:4,koubeihongbao:5,kb_hongbao:5,shenghuohao:6,koubeirebuy:7,kb_rebuy:7,koubeiorder:8,kb_order:8,kb_ordershop:9,entrycard:10,neirong:11,pay_offline:12,pay_rent:13,pay_vip:14,pay_success:15,kb_1212:16,pay_sms:17,pay_baida:18,pay_vipshop:19,pay_search:20,kb_app:21,pay_hui:22,pay_antvip:23,pay_living:24,pay_mt:25,pay_freed:26,pay_phone:27},a={"alipay:kb_app":[21],"alipay:koubei":[0,2,5,7,8,9,16],"alipay:zhifubao":[1,3,4,6,10,11,12,13,14,15,17,18,19,20,22,23,24,25,26,27]};t.a={init(){const e=o[UParams().from];void 0!==e&&(window.UBT.send("EVENT",{id:101152,params:{type:e}}),this._setSubChannel(e))},_setSubChannel(e){let t="";Object.keys(a).some(n=>{if(-1!==a[n].indexOf(e))return t=n,!0}),t&&localStorage.setItem("SUB_CHANNEL",t)},checkNewUser(){let e=r.c.store.get("isNew");const t=r.c.store.get("code");if(!1===e||!t)return;ap.getSessionData("userChecked").then(e=>{e.data.userChecked||r.a.checkNewUser(t).then(e=>{r.c.store.set("isNew",e.alipay_new_user),ap.setSessionData({data:{userChecked:!0}})}).catch(()=>{})}).catch(()=>{})},reportBizReady(){window.AlipayH5Performance&&window.AlipayH5Performance.reportBizReady&&window.AlipayH5Performance.reportBizReady()}}},393:function(e,t,n){"use strict";function r(e){const t=`${s}?${window.Utils.paramToString(e)}`;(new Image).src=t}function o(){const e=babelHelpers.extends({},function(){const e={},t=performance.timing;return Object.keys(u).forEach(n=>{const[r,o]=u[n];e[n]=t[o]-t[r]}),e}(),function(){const e={};return"function"!=typeof window.performance.getEntriesByType?e:(window.performance.getEntriesByType("resource").forEach(t=>{if(~["script","link",""].indexOf(t.initiatorType))switch(t.initiatorType){case"script":case"link":var n=t.name.match(/\/([^\/]*)\.([^\/]*)\.(js|css)$|$/);if(n.length<4)return;e[`${n[1]}.${n[3]}`]=t.duration;break;case"":/^https?:\/\/(restapi\.ele\.me|shadow\.elemecdn\.com)/.test(t.name)&&(e[t.name.replace(/(\?.*)/,"")]=t.duration)}}),e)}(),l());Object(a.a)("monitor","gray").then(()=>{c=!0,r(e)}).catch(()=>{})}var a=n(354);const i=navigator.userAgent,s="//app-monitor.ele.me/h5/_.gif";let c=!1;const l=()=>{const e=location.pathname.replace(/^\/|\/$/g,"").replace("/","_"),t=(i.match(/AlipayDefined\(nt\:(\w+),/)||[])[1]||"unkonw";return{page_name:e||"msite",network:t.toLowerCase(),os:/iPhone|iPad|iPod|iOS/i.test(i)?"ios":"android"}},u={dns_time:["domainLookupStart","domainLookupEnd"],tcp_time:["connectStart","connectEnd"],byte_time:["navigationStart","responseStart"],req_time:["requestStart","responseStart"],res_time:["responseStart","responseEnd"],dom_time:["responseEnd","domComplete"],load_time:["navigationStart","loadEventEnd"],load_e_time:["loadEventStart","loadEventEnd"],redirect_time:["redirectStart","redirectEnd"]};t.a=(()=>{window.performance&&window.addEventListener("load",()=>setTimeout(o))});t.b=(()=>{if(!c)return;r(babelHelpers.extends({},l(),{biz_time:Date.now()-performance.timing.navigationStart}))})},4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"isApp",function(){return d}),n.d(t,"platform",function(){return g}),n.d(t,"dontUseGradient",function(){return m}),n.d(t,"getLoginURL",function(){return b});var r=n(195),o=n.n(r),a=n(22),i=n(564),s=n(1255),c=n(1256),l=n(1257),u=n(1258),f=n(1259);n.d(t,"$fetch",function(){return i.a}),n.d(t,"store",function(){return a.a}),n.d(t,"biz",function(){return s.a}),n.d(t,"pay",function(){return c.a}),n.d(t,"sendPageSuccess",function(){return l.a}),n.d(t,"userStorage",function(){return u.a}),n.d(t,"trace",function(){return f.a});const p=navigator.userAgent,d=/Eleme/i.test(p);let h="unchecked";const g=Object.freeze({isEleme:d,isAlipay:/alipay/i.test(p),isKb:/KoubeiClient/.test(p),isOpensite:/opensite/.test(document.domain),isXiaomi:/xiaomi/i.test(p),isWechat:/micromessenger/i.test(p),isQQ:/\sQQ\/\d/.test(p),isIOS:/iPhone|iPad|iPod|iOS/i.test(p),isIPhoneX:(()=>{if(!/iPhone/i.test(p))return!1;const e=window.screen||{};return 812===e.height&&375===e.width})(),isWechatMp:()=>new Promise((e,t)=>{"unchecked"===h?window.wx?wx.ready(()=>{"miniprogram"===window.__wxjs_environment?e(h=!0):t(h=!1)}):t():h?e():t()})}),m=d&&o.a.compareVersion("7.12.0"),b=(e=location.href)=>d?"eleme://login":`/login#redirect=${encodeURIComponent(e)}`},50:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},563:function(e,t,n){var r=new function(){var e=Math.round,t=Math.max,n=Math.pow,r=Math.log,o="0123456789bcdefghjkmnpqrstuvwxyz",a=new RegExp("^["+o+"]+$"),i=function(){};i.prototype={minlat:-90,maxlat:90,minlng:-180,maxlng:180,halfLat:function(){return(this.minlat+this.maxlat)/2},halfLng:function(){return(this.minlng+this.maxlng)/2}},this.encode=function(e,r){if(e instanceof Array&&null==r&&(r=e[1],e=e[0]),e*=1,r*=1,e!=e)throw new Error("Geohash.encode: lat must be a Number");if(r!=r)throw new Error("Geohash.encode: lng must be a Number");for(var a,s,c=e.toString().length-e.toFixed().length-2,l=r.toString().length-e.toFixed().length-2,u=n(10,-t(c,l,0))/2,f=new i,p=[],d=180,h=!0,g=0,m=4;d>=u;)if(h?r>(a=f.halfLng())?(g|=1<<m,f.minlng=a):f.maxlng=a:e>(a=f.halfLat())?(g|=1<<m,f.minlat=a):f.maxlat=a,h=!h,m)m--;else{if(s=d,d=t(f.maxlng-f.minlng,f.maxlat-f.minlat),s===d)break;p.push(o[g]),m=4,g=0}return p.join("")},this.decode=function(s){if(!a.test(s))throw new Error("Geohash.decode: hash must be a geohash string");for(var c=new i,l=90,u=180,f=function(e,t,n){var r=1<<e;!(1&e)^!(1&n)?r&t?c.minlat=c.halfLat():c.maxlat=c.halfLat():r&t?c.minlng=c.halfLng():c.maxlng=c.halfLng()},p=0,d=s.length;p<d;p++){for(var h=o.indexOf(s[p]),g=1&p,m=4;m>=0;m--)f(m,h,g);g?(l/=8,u/=4):(l/=4,u/=8)}var b=n(10,t(1,-e(r(l)/r(10)))-1),v=n(10,t(1,-e(r(u)/r(10)))-1);return[e(c.halfLat()*b)/b,e(c.halfLng()*v)/v]}};e.exports=r},564:function(e,t,n){"use strict";var r=n(22);const o=/^(opensite|opensite-vip)\./.test(location.hostname),a=e=>!/\.elemecdn\.com/.test(e),i=window.fetch;window.fetch=function(e,t){const n=r.a.get("location");return n&&(({latitude:n,longitude:r})=>{if(n&&r)if("[object Request]"===e.toString())a(e.url)&&e.headers.append("X-Shard",`loc=${n},${r}`);else if(a(e)){(t=t||{}).headers=Object.assign({},t.headers);let e=t.headers["X-Shard"];t.headers["X-Shard"]=e?`${e};loc=${r},${n}`:`loc=${r},${n}`}})(n),i(e,t)};const s=(e,t={},n={})=>{let r=Object.assign({},t.headers);return n.orderId&&(r["X-Shard"]=`eosid=${n.orderId}`),n.shopId&&(r["X-Shard"]=`shopid=${n.shopId}`),o&&t.method&&"get"!==t.method.toLocaleLowerCase()&&(r["Content-Type"]="application/json"),t=Object.assign(t,{headers:r,credentials:t.credentials||(e=>{const t="[object Request]"===e.toString()?e.url:e;return a(t)?"include":"omit"})(e)}),e=(e=>{let t=o?"//opensite-h5.ele.me/restapi":"//h5.ele.me/restapi";return"[object Request]"===e.toString()?e.url=/^(https:|http:)?\/\//.test(e.url)?e.url:`${t}${e.url}`:e=/^(https:|http:)?\/\//.test(e)?e:`${t}${e}`,e})(e),fetch(e,t).then(e=>((e,{needRes:t})=>{if(204===e.status)return Promise.resolve.bind(Promise);const n=e.json(),r=t?n.then(t=>({result:t,res:e})):n;return e.status>=200&&e.status<300?r:n.then(n=>Promise.reject(t?{result:n,res:e}:n))})(e,{needRes:n.needRes}))};t.a=((e,t={},n={})=>{null===t&&(t={});let r=function(){};const{method:o="get"}=t,a="string"==typeof e?e:e.url,i=t.timeout||1e4,c=new Promise((e,t)=>{r=(()=>t({name:"HTTP_TIMEOUT",message:`${o.toUpperCase()} ${encodeURIComponent(a)} 已超时`}))});let l=Promise.race([s(e,t,n),c]);l.abort=r;let u=setTimeout(()=>{r(),clearTimeout(u),u=null},i);return l})},565:function(e,t,n){(function(t){function n(e){return void 0===e}function r(e){return"[object String]"===Object.prototype.toString.call(e)}function o(){try{return new ErrorEvent(""),!0}catch(e){return!1}}function a(e,t){var r,o;if(n(e.length))for(r in e)i(e,r)&&t.call(null,r,e[r]);else if(o=e.length)for(r=0;r<o;r++)t.call(null,r,e[r])}function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e){var t,n,o,a,i,s=[];if(!e||!e.tagName)return"";if(s.push(e.tagName.toLowerCase()),e.id&&s.push("#"+e.id),(t=e.className)&&r(t))for(n=t.split(/\s+/),i=0;i<n.length;i++)s.push("."+n[i]);var c=["type","name","title","alt"];for(i=0;i<c.length;i++)o=c[i],(a=e.getAttribute(o))&&s.push("["+o+'="'+a+'"]');return s.join("")}function c(e,t){return!!(!!e^!!t)}function l(e,t){if(c(e,t))return!1;var n=e.frames,r=t.frames;if(n.length!==r.length)return!1;for(var o,a,i=0;i<n.length;i++)if(o=n[i],a=r[i],o.filename!==a.filename||o.lineno!==a.lineno||o.colno!==a.colno||o.function!==a.function)return!1;return!0}var u="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};e.exports={isObject:function(e){return"object"==typeof e&&null!==e},isError:function(e){switch({}.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}},isErrorEvent:function(e){return o()&&"[object ErrorEvent]"==={}.toString.call(e)},isUndefined:n,isFunction:function(e){return"function"==typeof e},isString:r,isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isEmptyObject:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},supportsErrorEvent:o,wrappedCallback:function(e){return function(t,n){var r=e(t)||t;return n?n(r)||r:r}},each:a,objectMerge:function(e,t){return t?(a(t,function(t,n){e[t]=n}),e):e},truncate:function(e,t){return!t||e.length<=t?e:e.substr(0,t)+"…"},objectFrozen:function(e){return!!Object.isFrozen&&Object.isFrozen(e)},hasKey:i,joinRegExp:function(e){for(var t,n=[],o=0,a=e.length;o<a;o++)r(t=e[o])?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")},urlencode:function(e){var t=[];return a(e,function(e,n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.join("&")},uuid4:function(){var e=u.crypto||u.msCrypto;if(!n(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var r=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return r(t[0])+r(t[1])+r(t[2])+r(t[3])+r(t[4])+r(t[5])+r(t[6])+r(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},htmlTreeAsString:function(e){for(var t,n=[],r=0,o=0,a=" > ".length;e&&r++<5&&!("html"===(t=s(e))||r>1&&o+n.length*a+t.length>=80);)n.push(t),o+=t.length,e=e.parentNode;return n.reverse().join(" > ")},htmlElementAsString:s,isSameException:function(e,t){return!c(e,t)&&(e=e.values[0],t=t.values[0],e.type===t.type&&e.value===t.value&&l(e.stacktrace,t.stacktrace))},isSameStacktrace:l,parseUrl:function(e){var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+n+r}},fill:function(e,t,n,r){var o=e[t];e[t]=n(o),e[t].__raven__=!0,e[t].__orig__=o,r&&r.push([e,t,o])}}}).call(t,n(50))},76:function(e,t){e.exports=Vue},85:function(e,t,n){"use strict";function r(e=!1){let t;return(t=e?Promise.resolve({shown:!1}):ap.call("showAuthGuide",{bizType:"ElePG",authType:"LBS"})).then(e=>{if(!e.shown){const e="请到手机设置中开启支付宝的定位服务，开启后才能定位到你当前所在位置";Vue.prototype.$MessageBox?Vue.prototype.$MessageBox.alert({title:"开启定位服务",content:e}):alert(e)}}).catch(()=>{})}t.a=function(){const e=ap.compareVersion("10.0.18")<0;return function(e=!1){return e?Promise.resolve():ap.call("getAuthStatus",{bizType:"ElePG",authType:"LBS"}).then(e=>{if("1"!=e.authStatus)return Promise.reject(e)})}(e).then(()=>window.Utils.getGeohash.useAlipay().catch(t=>((function(e,t=!1){if(!e||!e.error)return!1;let n=!1;const r=e.error;return n=t?12===r||16===r||4===r:11===r})(t,e)&&(t=o,r(e)),Promise.reject(t)))).catch(()=>(r(e),Promise.reject(o)))};const o={name:"NEED_LOCATION_PERMISSION"}}});